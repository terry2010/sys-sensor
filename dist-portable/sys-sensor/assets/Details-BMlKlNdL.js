import{d as $,r as x,o as g,l as h,a as B,c as F,b as n,t as u,e as M}from"./index-KAHvqd1-.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"details-wrap"},U={class:"grid"},w={class:"item"},y={class:"item"},D={class:"item"},P={class:"item"},j={class:"item"},S={class:"item"},E={class:"item"},G={class:"item"},I={class:"item"},K={class:"item"},N={class:"item"},R=$({__name:"Details",setup(V){const s=x(null);let a=null;g(async()=>{a=await h("sensor://snapshot",l=>{s.value=l.payload})}),B(()=>{a&&(a(),a=null)});function r(l){if(l==null)return"-";const t=l/1024;return t<1024?`${t.toFixed(1)} KB/s`:`${(t/1024).toFixed(1)} MB/s`}function v(l){if(l==null)return;const t=Math.max(0,Math.floor(l)),e=Math.floor(t/3600),o=Math.floor(t%3600/60),i=t%60;return e>0?`${e}h${o}m`:o>0?`${o}m${i}s`:`${i}s`}function c(l){if(!l||l.length===0)return"—";const t=[];for(let o=0;o<Math.min(3,l.length);o++){const i=l[o],p=i.name??`驱动${o+1}`,d=i.temp_c!=null?`${i.temp_c.toFixed(1)} °C`:"—";t.push(`${p} ${d}`)}let e=t.join(", ");return l.length>3&&(e+=` +${l.length-3}`),e}function b(l){if(!l)return"—";const t=[];l.hb_tick!=null&&t.push(`hb ${l.hb_tick}`),l.idle_sec!=null&&t.push(`idle ${l.idle_sec}s`),l.exc_count!=null&&t.push(`exc ${l.exc_count}`);const e=v(l.uptime_sec);return e&&t.push(`up ${e}`),t.length?t.join(" "):"—"}return(l,t)=>{var e,o,i,p,d,m,_,f;return M(),F("div",C,[t[11]||(t[11]=n("h2",null,"系统详情",-1)),n("div",U,[n("div",w,[t[0]||(t[0]=n("span",null,"CPU",-1)),n("b",null,u(s.value?s.value.cpu_usage.toFixed(0)+"%":"—"),1)]),n("div",y,[t[1]||(t[1]=n("span",null,"内存",-1)),n("b",null,u(s.value?`${s.value.mem_used_gb.toFixed(1)}/${s.value.mem_total_gb.toFixed(1)} GB (${s.value.mem_pct.toFixed(0)}%)`:"—"),1)]),n("div",D,[t[2]||(t[2]=n("span",null,"CPU温度",-1)),n("b",null,u(((e=s.value)==null?void 0:e.cpu_temp_c)!=null?`${s.value.cpu_temp_c.toFixed(1)} °C`:"—"),1)]),n("div",P,[t[3]||(t[3]=n("span",null,"主板温度",-1)),n("b",null,u(((o=s.value)==null?void 0:o.mobo_temp_c)!=null?`${s.value.mobo_temp_c.toFixed(1)} °C`:"—"),1)]),n("div",j,[t[4]||(t[4]=n("span",null,"风扇",-1)),n("b",null,u(((i=s.value)==null?void 0:i.fan_rpm)!=null?`${s.value.fan_rpm} RPM`:"—"),1)]),n("div",S,[t[5]||(t[5]=n("span",null,"网络下行",-1)),n("b",null,u(r((p=s.value)==null?void 0:p.net_rx_bps)),1)]),n("div",E,[t[6]||(t[6]=n("span",null,"网络上行",-1)),n("b",null,u(r((d=s.value)==null?void 0:d.net_tx_bps)),1)]),n("div",G,[t[7]||(t[7]=n("span",null,"磁盘读",-1)),n("b",null,u(r((m=s.value)==null?void 0:m.disk_r_bps)),1)]),n("div",I,[t[8]||(t[8]=n("span",null,"磁盘写",-1)),n("b",null,u(r((_=s.value)==null?void 0:_.disk_w_bps)),1)]),n("div",K,[t[9]||(t[9]=n("span",null,"存储温度",-1)),n("b",null,u(c((f=s.value)==null?void 0:f.storage_temps)),1)]),n("div",N,[t[10]||(t[10]=n("span",null,"桥接健康",-1)),n("b",null,u(b(s.value)),1)])])])}}}),A=k(R,[["__scopeId","data-v-744a56cf"]]);export{A as default};
