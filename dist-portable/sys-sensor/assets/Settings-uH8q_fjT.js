import{d as g,r as l,o as y,c as i,b as s,w as r,f as c,v as f,g as w,F as x,h as b,i as u,e as d,t as k}from"./index-fPRq-yEt.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"settings-wrap"},V={class:"group"},B={class:"group"},M={class:"group"},U=["value"],h=g({__name:"Settings",setup(N){const p=l(!1),n=l(!1),v=l([]),a=l([]);async function m(){try{const e=await u("get_config");n.value=!!(e!=null&&e.tray_show_mem),a.value=Array.isArray(e==null?void 0:e.net_interfaces)?e.net_interfaces:[]}catch(e){console.error("[settings] loadConfig",e)}try{v.value=await u("list_net_interfaces")||[]}catch(e){console.warn("[settings] list_net_interfaces",e)}}async function _(){try{const e={tray_show_mem:n.value,net_interfaces:a.value};await u("set_config",{newCfg:e}),console.log("[settings] saved",e)}catch(e){console.error("[settings] save",e)}}return y(()=>{m()}),(e,t)=>(d(),i("div",S,[t[7]||(t[7]=s("h2",null,"快速设置",-1)),s("div",V,[s("label",null,[r(s("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o)},null,512),[[f,p.value]]),t[3]||(t[3]=c(" 随系统启动 ",-1))])]),s("div",B,[s("label",null,[r(s("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=o=>n.value=o)},null,512),[[f,n.value]]),t[4]||(t[4]=c(" 托盘第二行显示内存占用（否则显示 CPU%） ",-1))])]),s("div",M,[t[5]||(t[5]=s("div",null,"网络速率来源（可多选；不选=聚合全部）：",-1)),r(s("select",{multiple:"","onUpdate:modelValue":t[2]||(t[2]=o=>a.value=o),size:"6",style:{"min-width":"220px"}},[(d(!0),i(x,null,b(v.value,o=>(d(),i("option",{key:o,value:o},k(o),9,U))),128))],512),[[w,a.value]]),t[6]||(t[6]=s("div",{style:{"margin-top":"6px",color:"#888"}},"提示：清空选择即统计所有网卡；保存后生效。",-1))]),s("button",{class:"primary",onClick:_},"保存")]))}}),F=C(h,[["__scopeId","data-v-48f6e52b"]]);export{F as default};
