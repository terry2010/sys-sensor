这个项目的目标是使用tauri  写一个windows 右下角托盘的程序。 功能为：
没有图标， 启动后右下角托盘图标位置默认始终显示当前cpu温度和cpu占用率，刷新频率为1秒一次
鼠标放上去的时候， 自动显示 cpu温度 +cpu占用率 \n 总内存使用量+  内存占用率 \n  主板温度 \n cpu风扇转速 +机箱风扇转速
鼠标右键点击， 显示菜单 分为上下两个部分， 上方部分不可点击，显示 cpu温度 +cpu占用率 \n 总内存使用量+  内存占用率 \n  主板温度 \n cpu风扇转速 +机箱风扇转速 ， 下方可点击，每行都是个菜单。 分别是 【显示详情】 【快速设置】【关于我们】 【退出...】


点击显示详情后， 打开窗口，可以看到  cpu温度 +cpu占用率 \n 总内存使用量+  内存占用率 \n  主板温度 \n cpu风扇转速 +机箱风扇转速 ， 占用内存最多的程序列表， 占用cpu最多的程序列表  ，网速 等各个详细数据
点击快速设置后， 可以选择托盘图标位置具体显示  cpu 温度，cpu占用率，cpu风扇转速， 总内存使用量+  内存占用率，主板温度 ，机箱风扇转速，各个风扇转速  中的某两个
点击关于我们，弹窗 ： 软件官网：http://www.fuwz.net ， 作者微博: @xxx 
点击退出 的话， 彻底退出程序

详细的产品文档和开发计划都在 doc文件夹中。 基础环境已经搭建好了。 

上次开发里程碑后， 进行了项目总结， 文档是：doc/项目总结与开发注意事项.md ,你仔细阅读项目总结， 评估项目开发进度， 然后阅读 doc/plan.md ,按开发计划继续开发
 

注意：
1. 你的每一步开发进度都要记录在 progress.md 中
2.  这个编辑器有bug， 你启动调试进程后， 需要用taskkill主动kill掉进程， 否则测试进程无法结束，会永远占用端口
3. 之前几天你的表现非常出色， 今天你可以无需经过我的二次确认， 自动执行完所有任务

```
$names = @("sys-sensor.exe","sensor-bridge.exe","dotnet.exe"); foreach($n in $names){ try { taskkill /IM $n /T /F } catch {} }
```


这是项目背景知识文档， C:\code\sys-sensor\doc\项目总结与开发注意事项.md ， 仔细阅读，并告诉我你对项目的理解。 这将作为本次对话最重要的基础资料。
你的任务：
1. 仔细回忆你的记忆中， istat-menu 等优秀的电脑硬件监控软件都有哪些功能点， 有哪些广受好评的功能细节。
2. 根据项目现状， 给我下一步开发的建议



这是项目背景知识文档， C:\code\sys-sensor\doc\项目总结与开发注意事项.md ， 仔细阅读，并告诉我你对项目的理解。 这将作为本次对话最重要的基础资料。
你的任务：
上次执行任务执行到一半的时候，编辑器出bug退出了， 请继续执行任务。这次的目标是一次把所有任务都做完。 以下是上次的任务书
# 温度/风扇桥接与托盘显示计划

## Notes
- 桥接（C#）升级 LibreHardwareMonitorLib 至 0.9.4，支持更多主板但 NUC8 等部分平台风扇 RPM 依然不可读。
- 需管理员权限方可读取 CPU 温度（NUC8BEB 实测）；风扇 RPM 受主板/EC 限制部分平台无法获取。
- 桥接端新增自愈机制（空闲/异常/周期重建），提升长时运行稳定性。
- Rust 端桥接数据过期阈值提升至 30s，避免短暂中断误判过期。
- Rust 端采样线程已实现 WMI 连接自动重建（休眠后检测长间隔自动重连、查询失败累计重试、周期性重开），并在检测到系统睡眠/长间隔时重置速率基线（EMA），防止速率异常。
- 托盘与前端风扇 RPM 统一优先 CPU 风扇，无则机箱风扇，无则回退占空比/CPU%。
- 桥接 stderr 日志已支持逐行实时输出，便于现场诊断。
- 已修复桥接端 CollectStorageTemps/存储温度相关的 C# 语法错误（包括 StorageTemp/CollectStorageTemps 类作用域调整、fans 空引用检查），确保 JSON 输出 storageTemps 字段正常。
- 桥接端已支持存储温度名称中文化映射（如“复合/控制器/闪存”），前端可直接显示具体位置。
- 桥接端已支持存储温度名称带设备名前缀（如“970 EVO 复合/控制器/闪存”），便于多盘/多位置区分。
- 桥接端已验证构建通过，运行心跳/健康字段正常，storageTemps 字段因平台权限等可能为 null，建议管理员态下进一步测试。
- 兼容性与管理员需求已在 README 和 doc/项目总结与开发注意事项.md 明确说明。
- Rust 端采样线程已支持读取桥接新增的 storageTemps（存储温度）和健康指标（hb_tick、idle_sec、exc_count、uptime_sec），并在 SensorSnapshot 中发出，前端可直接消费。
- 每次进展均已同步记录至 doc/progress.md。
- 托盘菜单与 Tooltip 已扩展，新增“存储”与“桥接”信息行，内容与桥接健康指标同步。
- 前端详情页已联动展示存储温度与桥接健康。
- 桥接端已完整实现所有关键调试与自愈环境变量（BRIDGE_SUMMARY_EVERY_TICKS、BRIDGE_DUMP_EVERY_TICKS、BRIDGE_LOG_FILE、BRIDGE_SELFHEAL_IDLE_SEC、BRIDGE_SELFHEAL_EXC_MAX、BRIDGE_PERIODIC_REOPEN_SEC），并在 PowerShell 启动脚本与文档中有详细说明，便于长期运行时诊断与日志收集。
- 桥接端已增强 CPU 限频标志检测，支持通过环境变量 BRIDGE_THROTTLE_DEFAULT_FALSE 控制“无标志时默认否”，并放宽限频标志扫描范围，兼容更多主板/传感器类型。
- 指标优先级三梯队现状：
  - 第一梯队：主板/系统环境温度（moboTempC）、NVMe/SSD 温度、桥接健康指标（心跳 tick、空闲秒数、连续异常次数、运行秒数）均已落地；“上次重建至今秒数”已在 JSON 输出。
  - 网/盘统计已具备 Bps（net_rx_bps/net_tx_bps/disk_r_bps/disk_w_bps），前端已展示。
  - 第二梯队（CPU 包功耗/频率/限频）已在 C# 端补全，需 Rust 端结构与采样线程同步扩展。
- 已完成前端第二梯队指标（CPU 包功耗/频率/限频等）类型扩展、UI 展示与联调，`Details.vue` 和 `main.ts` 均已对齐，并已通过前端类型检查和构建验证。
- 已完成 C# 桥接和 Rust 端现有指标、采样、转发结构梳理，下一步将补全第二梯队指标相关字段与采集逻辑。
- 【对标 iStat Menus 监控项梳理】
  - 参考 iStat Menus，需补全以下主要指标：
    - CPU：核心温度、频率、功耗、占用率、限频状态、每核心负载、每核心温度、包温度（如支持）。
    - 内存：总量、已用、可用、缓存、交换区、内存温度。
    - 磁盘：每盘/分区读写速率、IOPS、队列长度、温度、健康状态、SMART 指标、剩余寿命、剩余空间。
    - 网络：多网卡流量、速率、丢包、错误、IP/MAC、WiFi 信号强度、速率、SSID。
    - 主板/环境：主板温度、电压、风扇转速、供电健康、电池状态。
    - GPU：型号、占用率、温度、频率、功耗、显存用量、风扇转速。
    - 其他：电池健康、蓝牙/WiFi 状态、外接显示器、进程排行、系统负载、Uptime。
  - 其中部分需依赖厂商专用库或第三方工具（如 GPU、部分主板/电池/SMART），优先用 WMI/LibreHardwareMonitorLib/Windows API，必要时用外部工具集成。

## Task List
- [x] 桥接端支持温度/风扇采集并 JSON 输出
- [x] Rust 后端集成桥接子进程，支持多种启动方式（dll/exe/dotnet run）
- [x] 托盘与前端 UI 联动显示温度/风扇，风扇 RPM 选择逻辑统一
- [x] 桥接自愈机制开发与集成
- [x] 桥接数据过期阈值调整与日志增强
- [x] 文档补充兼容性与诊断说明
- [x] Rust 端采样线程读取桥接新增字段（storageTemps/健康指标）并转发到前端
- [x] 进展记录补充至 progress.md
- [x] 托盘菜单与Tooltip扩展显示存储温度与桥接健康指标
- [x] 前端详情页展示存储温度与桥接健康指标
- [x] 桥接端编译错误修复与 fans 空引用修正
- [x] 桥接端发布自包含单文件并验证输出
- [x] 进展记录补充至 progress.md
- [x] 存储温度名称中文化映射与前端联调
- [x] 存储温度名称带设备名前缀，支持多盘/多位置区分
- [x] 健康指标补全：桥接 JSON 输出 sinceReopenSec（上次重建至今秒数）
- [x] C# 桥接端限频标志检测兼容性增强与默认值可控
- [ ] 长期运行与桥接自愈稳定性验证
  - [ ] Rust 端 WMI 连接重建、休眠自恢复与速率基线重置的稳定性验证
- [ ] NUC8 等平台管理员/非管理员下的温度与风扇表现补充测试
- [ ] 现场日志收集与问题回溯
- [x] 第二梯队指标落地：CPU 包功耗/频率/限频、磁盘 IOPS/队列长度、网络丢包/错误/延迟
  - [x] 梳理并扩展 C# BridgeOut/JSON 输出结构，增加相关字段
  - [x] Rust 端 SensorSnapshot 结构及采样线程同步扩展
    - [x] 引入 windows/pdh 等 crate，采集磁盘 IOPS/队列长度、网络丢包/错误等
    - [x] 采集实现与前端联调
  - [x] 选型/集成 windows/pdh/icmp 等 crate，补充本地采集能力
  - [x] 前端联调展示
- [ ] 对标 iStat Menus 指标梳理与实现
  - [ ] 梳理 iStat Menus 主要监控项并与现有指标比对
  - [ ] 桥接端补全 CPU/内存/磁盘/网络/主板/电池/GPU/其他指标的采集与 JSON 输出
  - [ ] Rust 端结构与采样线程同步扩展，转发所有新指标
  - [ ] 前端类型与 UI 展示同步扩展
  - [ ] GPU 相关监控（型号、温度、占用率、频率、功耗、显存、风扇等）集成与联调
  - [ ] 进展与兼容性问题同步记录与总结

## Current Goal
补全对标 iStat Menus 的全部指标